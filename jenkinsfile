node {
    try {
        def buildNum = env.BUILD_NUMBER 
        def branchName = env.BRANCH_NAME
    
        echo "Build Number: ${buildNum}"
        echo "Branch Name: ${branchName}"

        stage('Atelier - clone') {
            git branch: 'DEV',
                        credentialsId: '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',
                        url: 'https://github.com/Dialsyp/Atelier.git',
            sh "ls"
        }

        stage('PremiereEtape') {
            sh "echo 'hello world'"
        }

        stage('deuxiemeEtape') {
            sh "echo 'hello world'"
        }
    }
    finally {
        // cleanWs() is not needed here, as it was already called at the beginning
    }
}
